<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Visualising transport data</title>
    <meta charset="utf-8" />
    <meta name="author" content="Robin Lovelace" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/leaflet/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet/leaflet.js"></script>
    <link href="libs/leafletfix/leafletfix.css" rel="stylesheet" />
    <script src="libs/proj4/proj4.min.js"></script>
    <script src="libs/Proj4Leaflet/proj4leaflet.js"></script>
    <link href="libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-binding/leaflet.js"></script>
    <script src="libs/leaflet-providers/leaflet-providers_1.9.0.js"></script>
    <script src="libs/leaflet-providers-plugin/leaflet-providers-plugin.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Visualising transport data
## ðŸ—º <br/>from base (rock) to shiny (clouds)
### Robin Lovelace

---





layout: true
background-image: url(img/r_geocomp_background.png)
background-size: cover

---

# A brief history of vizualisation I

- Neo Babylonian (626 BC - 539 BC) temple plan
Source:
(Talbert, 2014)

&lt;img src="https://geocompr.github.io/workshops/erum2018/img/neo-babylon-temple-map-circa-600-bc.png" width="50%" /&gt;

---

# A brief history of vizualisation II

- Neo Babylonian (626 BC - 539 BC) map of the world
Source:
(Talbert, 2014)

&lt;img src="https://geocompr.github.io/workshops/erum2018/img/babylon-map.png" width="50%" /&gt;

---

# A brief history of geographic vizualisation III

- Humboldt's NaturgemÃ¤lde (1807, *Geography of Plants*)

![](https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Zentralbibliothek_Z%C3%BCrich_-_Ideen_zu_einer_Geographie_der_Pflanzen_nebst_einem_Naturgem%C3%A4lde_der_Tropenl%C3%A4nder_-_000012142.jpg/2560px-Zentralbibliothek_Z%C3%BCrich_-_Ideen_zu_einer_Geographie_der_Pflanzen_nebst_einem_Naturgem%C3%A4lde_der_Tropenl%C3%A4nder_-_000012142.jpg)&lt;!-- --&gt;


&lt;!-- - The mappa mundi - largest Mediaval map surviving (~1300 **AD**) --&gt;
&lt;!-- knitr::include_graphics("https://upload.wikimedia.org/wikipedia/commons/4/48/Hereford-Karte.jpg?download") --&gt;

---

## Good, bad, ugly, wrong

- Aim must be good graphics, but first it's important to avoid pitfalls
- Source: Free and open book [Data Visualisation](https://clauswilke.com/dataviz/introduction.html)

&lt;img src="https://serialmentor.com/dataviz/introduction_files/figure-html/ugly-bad-wrong-examples-1.png" width="80%" /&gt;

---


## What is data visualisation?

&gt; Data visualization is part art and part science. The challenge is to get the art right without getting the science wrong and vice versa. A data visualization first and foremost has to accurately convey the data. 

--

&gt; In my experience, scientists frequently (though not always!) know how to visualize data without being grossly misleading. However, they may not have a well developed sense of visual aesthetics, and they may inadvertantly make visual choices that detract from their desired message. Designers, on the other hand, may prepare visualizations that look beautiful but play fast and loose with the data.

Source: [Fundamentals of Data Vizualisation](https://serialmentor.com/dataviz/)

---

## Viz 4 policy


&gt; [visualisations] are also often the best way to present the findings of [transport] research in a way that is accessible. [visualisation] making is therefore a critical part of [transport] and its emphasis not only on describing, but also changing the world.

Source: [Geocomputation with R](https://geocompr.robinlovelace.net/adv-map.html)

--


![](https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2014/10/31/1414751968306/d83dffac-d060-4b77-88c0-77916e18e233-1020x397.png?width=620&amp;quality=45&amp;auto=format&amp;fit=max&amp;dpr=2&amp;s=7a52a871a27b3fa6ae167244d4f9845e)&lt;!-- --&gt;

- Visualisations can make findings become 'real'

---

# A brief history of geographic data viz in R

"The core R engine was not designed specifically for the display and analysis
of maps, and the limited interactive facilities it offers have drawbacks in this
area" (Bivand, Pebesma, and GÃ³mez-Rubio, 2013).

--

Five years later...

--

"An example showing R's flexibility and evolving geographic capabilities is **leaflet**
(Cheng, Karambelkar, and Xie, 2018),
a package for making interactive maps that has been extended by the R community, as we'll see in Chapter 9" 
(Lovelace, Nowosad, and Meunchow, 2018).

---

# Base R graphics: sf 


```r
plot(nz)
```

![](7-viz_files/figure-html/unnamed-chunk-6-1.png)&lt;!-- --&gt;

---

# Base R graphics: sf II


```r
plot(st_geometry(nz))
plot(nz_height, add = TRUE)
sf_cols = sf.colors(n = 2, alpha = 0.2)
nz$col = factor(x = nz$Island, labels = sf_cols)
plot(st_geometry(nz), col = as.character(nz$col))
```

&lt;div class="figure"&gt;
&lt;img src="7-viz_files/figure-html/unnamed-chunk-7-1.png" alt=" " width="40%" /&gt;&lt;img src="7-viz_files/figure-html/unnamed-chunk-7-2.png" alt=" " width="40%" /&gt;
&lt;p class="caption"&gt; &lt;/p&gt;
&lt;/div&gt;

---

# sf graphics: code


```r
# facet plots by default
plot(nz) 
# plot just geometry, ready for new layers:
plot(st_geometry(nz), reset = FALSE)
# addition of new layers
plot(nz_height, add = TRUE)
# transparency
sf_cols = sf.colors(n = 2, alpha = 0.2)
nz$col = factor(x = nz$Island, labels = sf_cols)
plot(st_geometry(nz), col = as.character(nz$col))
#  see ?plot.sf for more
```

--

## Observations

- Facets by default: useful for seeing patterns.
- Transparency new, `add = ...` argument the same
- You can go far with base R graphics 
(Murrell, 2016).

---

# tmap

- A diverse dedicated mapping R package


```r
library(tmap)
tmap_mode("plot")
```

```
## tmap mode set to plotting
```

```r
tm_shape(nz) +
  tm_polygons("Median_income", palette = "RdYlBu")
```

![](7-viz_files/figure-html/unnamed-chunk-9-1.png)&lt;!-- --&gt;

---

# Why tmap?

- It is powerful and flexible.
- Concise syntax, attractive maps with minimal code, familiar to **ggplot2** users.
- Unique capability: same code -&gt; static + interactive maps with switch `tmap_mode()`.
- Wide range of spatial classes (including `raster` objects) supported.
- Well documented + developed --- see [`tmap-nutshell`](https://cran.r-project.org/web/packages/tmap/vignettes/tmap-nutshell.html) and JSS paper
(Tennekes, 2018).


---

# tmap basics


```r
# Add fill layer to nz shape
tm_shape(nz) + tm_fill() 
# Add border layer to nz shape
tm_shape(nz) + tm_borders() 
# Add fill and border layers to nz shape
tm_shape(nz) + tm_fill() + tm_borders() 
```

&lt;div class="figure"&gt;
&lt;img src="7-viz_files/figure-html/unnamed-chunk-10-1.png" alt="tmap basics" width="32%" /&gt;&lt;img src="7-viz_files/figure-html/unnamed-chunk-10-2.png" alt="tmap basics" width="32%" /&gt;&lt;img src="7-viz_files/figure-html/unnamed-chunk-10-3.png" alt="tmap basics" width="32%" /&gt;
&lt;p class="caption"&gt;tmap basics&lt;/p&gt;
&lt;/div&gt;

&lt;!-- --- --&gt;

&lt;!-- # tmap objects --&gt;

&lt;!-- --- --&gt;

&lt;!-- # Aesthetics --&gt;

&lt;!-- --- --&gt;

&lt;!-- # Layouts --&gt;

&lt;!-- --- --&gt;

&lt;!-- # Facets --&gt;

&lt;!-- --- --&gt;

---

# Animations

- Are easy with **tmap** (section [9.3](http://geocompr.robinlovelace.net/adv-map.html#animated-maps) of geocompr)

&lt;img src="https://user-images.githubusercontent.com/1825120/38543030-5794b6f0-3c9b-11e8-9da9-10ec1f3ea726.gif" width="80%" /&gt;

---

# Interactive maps with mapview

``` r
m = mapview::mapview(spData::nz)
m@map
```

![](https://i.imgur.com/hz98Jru.png)


---

# Web mapping applications

- Leaflet integrates with **shiny** via `leaflet::leafletOutput()`, enabling web mapping applications built on R
- These can be set-up to scale nationally, as illustrated by [pct.bike](http://www.pct.bike/)
(Lovelace, Goodman, Aldred, et al., 2017).


![](https://raw.githubusercontent.com/npct/pct-team/master/figures/pct-frontpage.png)&lt;!-- --&gt;

---

## Summary

- Visualisation is an important skill in data science
- Visualisation is particularly valuable for evidence-based decision-making and policy
- Open source command software like R provides powerful tools for data visualisation
- Geographic data visualisation is possible with R using packages such as sf and tmap
- These visualisation skills will be useful in the lecture next week on project work

---

## Exercise with desire line data in stplanr

1. Create a map showing the number of people walking and cycling in the `stplanr` dataset `flowlines_sf` using:
-base graphics (hint: use `plot()`) and
-**tmap** (hint: use `tm_shape(flowlines_sf) + ...`, `palette = "viridis"` and other options shown in `tmaptools::palette_explorer()` give different colourschemes).
    - Name two advantages of each approach
    - Bonus: Other mapping packages could be used to show the same data?
    
For more information on plotting OD data, see the [stplanr-od](https://docs.ropensci.org/stplanr/articles/stplanr-od.html) vignetted, e.g. with

```r
vignette("stplanr-od")
```


    
---

## Result: base graphics
    

```r
library(stplanr)
lwd = flowlines_sf$All / mean(flowlines_sf$All) * 3
plot(flowlines_sf["Taxi"], lwd = lwd)
```

&lt;img src="7-viz_files/figure-html/unnamed-chunk-13-1.png" width="70%" /&gt;

---

## Result: tmap


```r
library(tmap)
tmap_mode("view")
tm_shape(flowlines_sf) +
  tm_lines(col = "Taxi", lwd = "All", scale = 9, palette = "viridis")
```

<div id="htmlwidget-ef632130aa7081e816a9" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-ef632130aa7081e816a9">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addPolylines","args":[[[[{"lng":[-1.51673372110415,-1.51673372110415],"lat":[53.828874094091,53.828874094091]}]],[[{"lng":[-1.51673372110415,-1.53561681217644],"lat":[53.828874094091,53.8284728591563]}]],[[{"lng":[-1.51673372110415,-1.55080650299106],"lat":[53.828874094091,53.8244201525258]}]],[[{"lng":[-1.51673372110415,-1.53071232765968],"lat":[53.828874094091,53.8175561851866]}]],[[{"lng":[-1.51673372110415,-1.51931752619754],"lat":[53.828874094091,53.8157960329603]}]],[[{"lng":[-1.51673372110415,-1.51186138683098],"lat":[53.828874094091,53.8116109801727]}]],[[{"lng":[-1.51673372110415,-1.52420469999725],"lat":[53.828874094091,53.8040984493515]}]],[[{"lng":[-1.53561681217644,-1.51673372110415],"lat":[53.8284728591563,53.828874094091]}]],[[{"lng":[-1.53561681217644,-1.53561681217644],"lat":[53.8284728591563,53.8284728591563]}]],[[{"lng":[-1.53561681217644,-1.55080650299106],"lat":[53.8284728591563,53.8244201525258]}]],[[{"lng":[-1.53561681217644,-1.53071232765968],"lat":[53.8284728591563,53.8175561851866]}]],[[{"lng":[-1.53561681217644,-1.51931752619754],"lat":[53.8284728591563,53.8157960329603]}]],[[{"lng":[-1.53561681217644,-1.51186138683098],"lat":[53.8284728591563,53.8116109801727]}]],[[{"lng":[-1.53561681217644,-1.52420469999725],"lat":[53.8284728591563,53.8040984493515]}]],[[{"lng":[-1.55080650299106,-1.51673372110415],"lat":[53.8244201525258,53.828874094091]}]],[[{"lng":[-1.55080650299106,-1.53561681217644],"lat":[53.8244201525258,53.8284728591563]}]],[[{"lng":[-1.55080650299106,-1.55080650299106],"lat":[53.8244201525258,53.8244201525258]}]],[[{"lng":[-1.55080650299106,-1.53071232765968],"lat":[53.8244201525258,53.8175561851866]}]],[[{"lng":[-1.55080650299106,-1.51931752619754],"lat":[53.8244201525258,53.8157960329603]}]],[[{"lng":[-1.55080650299106,-1.51186138683098],"lat":[53.8244201525258,53.8116109801727]}]],[[{"lng":[-1.55080650299106,-1.52420469999725],"lat":[53.8244201525258,53.8040984493515]}]],[[{"lng":[-1.53071232765968,-1.51673372110415],"lat":[53.8175561851866,53.828874094091]}]],[[{"lng":[-1.53071232765968,-1.53561681217644],"lat":[53.8175561851866,53.8284728591563]}]],[[{"lng":[-1.53071232765968,-1.55080650299106],"lat":[53.8175561851866,53.8244201525258]}]],[[{"lng":[-1.53071232765968,-1.53071232765968],"lat":[53.8175561851866,53.8175561851866]}]],[[{"lng":[-1.53071232765968,-1.51931752619754],"lat":[53.8175561851866,53.8157960329603]}]],[[{"lng":[-1.53071232765968,-1.51186138683098],"lat":[53.8175561851866,53.8116109801727]}]],[[{"lng":[-1.53071232765968,-1.52420469999725],"lat":[53.8175561851866,53.8040984493515]}]],[[{"lng":[-1.51931752619754,-1.51673372110415],"lat":[53.8157960329603,53.828874094091]}]],[[{"lng":[-1.51931752619754,-1.53561681217644],"lat":[53.8157960329603,53.8284728591563]}]],[[{"lng":[-1.51931752619754,-1.55080650299106],"lat":[53.8157960329603,53.8244201525258]}]],[[{"lng":[-1.51931752619754,-1.53071232765968],"lat":[53.8157960329603,53.8175561851866]}]],[[{"lng":[-1.51931752619754,-1.51931752619754],"lat":[53.8157960329603,53.8157960329603]}]],[[{"lng":[-1.51931752619754,-1.51186138683098],"lat":[53.8157960329603,53.8116109801727]}]],[[{"lng":[-1.51931752619754,-1.52420469999725],"lat":[53.8157960329603,53.8040984493515]}]],[[{"lng":[-1.51186138683098,-1.51673372110415],"lat":[53.8116109801727,53.828874094091]}]],[[{"lng":[-1.51186138683098,-1.53561681217644],"lat":[53.8116109801727,53.8284728591563]}]],[[{"lng":[-1.51186138683098,-1.55080650299106],"lat":[53.8116109801727,53.8244201525258]}]],[[{"lng":[-1.51186138683098,-1.53071232765968],"lat":[53.8116109801727,53.8175561851866]}]],[[{"lng":[-1.51186138683098,-1.51931752619754],"lat":[53.8116109801727,53.8157960329603]}]],[[{"lng":[-1.51186138683098,-1.51186138683098],"lat":[53.8116109801727,53.8116109801727]}]],[[{"lng":[-1.51186138683098,-1.52420469999725],"lat":[53.8116109801727,53.8040984493515]}]],[[{"lng":[-1.52420469999725,-1.51673372110415],"lat":[53.8040984493515,53.828874094091]}]],[[{"lng":[-1.52420469999725,-1.53561681217644],"lat":[53.8040984493515,53.8284728591563]}]],[[{"lng":[-1.52420469999725,-1.55080650299106],"lat":[53.8040984493515,53.8244201525258]}]],[[{"lng":[-1.52420469999725,-1.53071232765968],"lat":[53.8040984493515,53.8175561851866]}]],[[{"lng":[-1.52420469999725,-1.51931752619754],"lat":[53.8040984493515,53.8157960329603]}]],[[{"lng":[-1.52420469999725,-1.51186138683098],"lat":[53.8040984493515,53.8116109801727]}]],[[{"lng":[-1.52420469999725,-1.52420469999725],"lat":[53.8040984493515,53.8040984493515]}]]],["E02002361","E02002361.1","E02002361.2","E02002361.3","E02002361.4","E02002361.5","E02002361.6","E02002363","E02002363.1","E02002363.2","E02002363.3","E02002363.4","E02002363.5","E02002363.6","E02002367","E02002367.1","E02002367.2","E02002367.3","E02002367.4","E02002367.5","E02002367.6","E02002371","E02002371.1","E02002371.2","E02002371.3","E02002371.4","E02002371.5","E02002371.6","E02002377","E02002377.1","E02002377.2","E02002377.3","E02002377.4","E02002377.5","E02002377.6","E02002382","E02002382.1","E02002382.2","E02002382.3","E02002382.4","E02002382.5","E02002382.6","E02002393","E02002393.1","E02002393.2","E02002393.3","E02002393.4","E02002393.5","E02002393.6"],"flowlines_sf",{"interactive":true,"className":"","pane":"tmap401","stroke":true,"color":["#443A83","#443A83","#440154","#443A83","#443A83","#440154","#443A83","#443A83","#31678E","#440154","#443A83","#440154","#440154","#21908C","#440154","#31678E","#443A83","#440154","#440154","#440154","#443A83","#440154","#443A83","#443A83","#440154","#443A83","#443A83","#37B878","#443A83","#440154","#440154","#443A83","#31678E","#31678E","#443A83","#443A83","#443A83","#440154","#443A83","#443A83","#31678E","#FDE725","#440154","#443A83","#440154","#443A83","#443A83","#443A83","#21908C"],"weight":[3.70188679245283,1.29056603773585,0.339622641509434,1.49433962264151,1.15471698113208,0.237735849056604,3.19245283018868,1.0188679245283,6.21509433962264,0.373584905660377,2.44528301886792,0.441509433962264,0.271698113207547,5.29811320754717,0.169811320754717,2.85283018867925,1.39245283018868,2.24150943396226,0.305660377358491,0.305660377358491,2.98867924528302,0.679245283018868,3.73584905660377,0.916981132075472,7.47169811320755,1.96981132075472,1.12075471698113,5.60377358490566,0.713207547169811,1.0188679245283,0.237735849056604,2.10566037735849,4.3811320754717,1.8,3.15849056603774,0.271698113207547,0.271698113207547,0.407547169811321,1.22264150943396,1.5622641509434,2.47924528301887,3.19245283018868,0.475471698113208,0.475471698113208,0.237735849056604,1.32452830188679,1.18867924528302,0.883018867924528,9],"opacity":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"fill":false,"fillColor":["#443A83","#443A83","#440154","#443A83","#443A83","#440154","#443A83","#443A83","#31678E","#440154","#443A83","#440154","#440154","#21908C","#440154","#31678E","#443A83","#440154","#440154","#440154","#443A83","#440154","#443A83","#443A83","#440154","#443A83","#443A83","#37B878","#443A83","#440154","#440154","#443A83","#31678E","#31678E","#443A83","#443A83","#443A83","#440154","#443A83","#443A83","#31678E","#FDE725","#440154","#443A83","#440154","#443A83","#443A83","#443A83","#21908C"],"fillOpacity":0.2,"dashArray":"none","smoothFactor":1,"noClip":false},["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002361<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>109<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002361<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>38<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002361<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>10<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002361<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>44<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002361<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>34<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002361<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>7<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002361<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>94<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002363<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>30<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002363<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>3<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>183<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002363<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>11<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002363<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>72<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002363<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>13<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002363<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>8<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002363<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>5<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>156<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002367<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>5<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002367<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>4<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>84<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002367<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>41<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002367<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>66<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002367<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>9<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002367<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>9<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002367<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>88<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002371<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>20<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002371<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>110<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002371<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>27<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002371<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>220<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002371<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>58<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002371<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>33<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002371<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>8<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>165<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002377<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>21<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002377<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>30<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002377<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>7<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002377<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>62<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002377<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>4<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>129<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002377<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>4<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>53<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002377<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>93<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002382<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>8<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002382<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>8<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002382<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>12<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002382<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>36<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002382<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>46<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002382<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>4<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>73<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002382<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>11<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>94<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002393<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>14<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002393<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>14<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002393<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>7<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002393<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>39<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002393<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>35<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002393<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>26<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>E02002393<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Taxi<\/nobr><\/td><td align=\"right\"><nobr>6<\/nobr><\/td><\/tr><tr><td style=\"color: #888888;\"><nobr>All<\/nobr><\/td><td align=\"right\"><nobr>265<\/nobr><\/td><\/tr><\/table><\/div>"],null,["E02002361","E02002361","E02002361","E02002361","E02002361","E02002361","E02002361","E02002363","E02002363","E02002363","E02002363","E02002363","E02002363","E02002363","E02002367","E02002367","E02002367","E02002367","E02002367","E02002367","E02002367","E02002371","E02002371","E02002371","E02002371","E02002371","E02002371","E02002371","E02002377","E02002377","E02002377","E02002377","E02002377","E02002377","E02002377","E02002382","E02002382","E02002382","E02002382","E02002382","E02002382","E02002382","E02002393","E02002393","E02002393","E02002393","E02002393","E02002393","E02002393"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#440154","#443A83","#31678E","#21908C","#37B878","#8DD645","#FDE725"],"labels":["0","1 to 2","3 to 4","5 to 6","7 to 8","9 to 10","11 to 12"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"unknown","title":"Taxi","extra":null,"layerId":"legend401","className":"info legend flowlines_sf","group":"flowlines_sf"}]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],"flowlines_sf",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[53.8040984493515,53.828874094091],"lng":[-1.55080650299106,-1.51186138683098]},"fitBounds":[53.8040984493515,-1.55080650299106,53.828874094091,-1.51186138683098,[]]},"evals":[],"jsHooks":[]}</script>


---

## Bonus exercise

- Based on the `routes_fast_sf` data in the `stplanr` package, identify roads where investment in cycling is likely to be effective.

Starting point:


```r
nrow(flowlines_sf)
```

```
## [1] 49
```

```r
nrow(routes_fast_sf)
```

```
## [1] 49
```

```r
# routes_fast_sf = dplyr::inner_join(routes_fast_sf, flow)
routes_fast_joined = cbind(routes_fast_sf, flowlines_sf)
rnet = overline(routes_fast_joined, "Bicycle")
```

---

## sf results

![](7-viz_files/figure-html/unnamed-chunk-16-1.png)&lt;!-- --&gt;


---

## tmap 'view mode' results


```r
tm_shape(rnet) +
  tm_lines(col = "Bicycle", lwd = "Bicycle", scale = 9, palette = "RdYlBu")
```

```
## Legend for line widths not available in view mode.
```

<div id="htmlwidget-f11e2b9ee26e2d97c785" style="width:504px;height:504px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-f11e2b9ee26e2d97c785">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addPolylines","args":[[[[{"lng":[-1.520543,-1.520436,-1.52034,-1.520139,-1.520117,-1.519478,-1.519226,-1.518937,-1.519148,-1.519342,-1.519539,-1.519349],"lat":[53.817972,53.817689,53.817435,53.816985,53.816903,53.816584,53.81647,53.816341,53.816182,53.81602,53.815854,53.815769]}]],[[{"lng":[-1.545993,-1.546004,-1.546021,-1.546056,-1.546091,-1.546082,-1.545979,-1.545846,-1.545668,-1.545328,-1.544906,-1.543685,-1.543563,-1.543258,-1.542978,-1.542726,-1.542333,-1.540745,-1.540559],"lat":[53.824936,53.824904,53.824879,53.824845,53.824822,53.824663,53.82444,53.824133,53.823795,53.823378,53.822953,53.822001,53.821906,53.821648,53.821374,53.821097,53.820668,53.81893,53.818727]}]],[[{"lng":[-1.524073,-1.523632,-1.523343,-1.523039,-1.522914,-1.522837,-1.522584,-1.522228,-1.521876,-1.521816,-1.521681,-1.521284,-1.521108,-1.520946,-1.520744,-1.520424,-1.520019,-1.519816,-1.518842,-1.517228,-1.515726,-1.513974,-1.513993,-1.513994,-1.513999,-1.51401,-1.513988,-1.513934,-1.513906,-1.513839,-1.513725,-1.513644,-1.513547,-1.513506,-1.513383,-1.513195,-1.512981,-1.512838,-1.512695,-1.51216,-1.512022],"lat":[53.816426,53.816126,53.815955,53.815773,53.815687,53.81564,53.815498,53.815339,53.815298,53.815291,53.815275,53.815327,53.81535,53.815368,53.815378,53.815423,53.815431,53.815412,53.815258,53.814946,53.814876,53.814834,53.814616,53.814561,53.814424,53.814331,53.814226,53.814109,53.814043,53.813903,53.813669,53.813489,53.813275,53.813222,53.813051,53.812846,53.812624,53.812464,53.812302,53.811693,53.811554]}]],[[{"lng":[-1.546613,-1.546616,-1.546594,-1.546556,-1.546511,-1.546474,-1.546421,-1.546371,-1.546324,-1.54629,-1.546232,-1.546187,-1.54611,-1.546052,-1.546014,-1.545993,-1.545993],"lat":[53.824929,53.824975,53.825028,53.825068,53.825097,53.825114,53.82513,53.825139,53.825143,53.825143,53.825138,53.82513,53.825103,53.825068,53.825028,53.824979,53.824936]}]],[[{"lng":[-1.550139,-1.549882,-1.549642,-1.549629,-1.550964],"lat":[53.824952,53.824396,53.823946,53.823867,53.824085]}]],[[{"lng":[-1.531248,-1.53065],"lat":[53.817436,53.81751]}]],[[{"lng":[-1.535906,-1.535878,-1.535838,-1.535788,-1.535733,-1.535443,-1.534933,-1.533518,-1.532966,-1.532606,-1.53265,-1.532688,-1.532681,-1.532662,-1.532622,-1.532533,-1.532421,-1.532148,-1.532074,-1.531947,-1.531788,-1.531692,-1.531629,-1.531431],"lat":[53.824899,53.824646,53.824418,53.824195,53.823949,53.823916,53.823712,53.822948,53.822642,53.822433,53.822277,53.822071,53.821937,53.821828,53.821741,53.82161,53.821433,53.820964,53.820781,53.82051,53.820035,53.81975,53.819593,53.81884]}]],[[{"lng":[-1.535906,-1.535918,-1.535932,-1.535947,-1.535946,-1.535896,-1.535871,-1.535757,-1.535722,-1.535563,-1.535397,-1.53546,-1.535473,-1.53548,-1.535444,-1.535425,-1.535326,-1.535067,-1.534954,-1.534858,-1.534802,-1.534654,-1.534408],"lat":[53.824899,53.825329,53.825709,53.825977,53.826097,53.826189,53.826233,53.826386,53.826505,53.826534,53.826564,53.826961,53.827141,53.827298,53.82736,53.827392,53.82752,53.827723,53.827808,53.827921,53.828083,53.828123,53.8282]}]],[[{"lng":[-1.524029,-1.523989,-1.523904,-1.523827,-1.523635],"lat":[53.803986,53.804007,53.804067,53.804134,53.804321]}]],[[{"lng":[-1.525439,-1.52547,-1.525067,-1.524505,-1.524609,-1.524073],"lat":[53.817655,53.817585,53.817365,53.817053,53.816751,53.816426]}]],[[{"lng":[-1.53065,-1.529115,-1.52886,-1.528518,-1.527485,-1.525439],"lat":[53.81751,53.817579,53.817586,53.817595,53.817624,53.817655]}]],[[{"lng":[-1.54636,-1.546298,-1.546226,-1.546156,-1.546091],"lat":[53.824776,53.824773,53.824779,53.824795,53.824822]}]],[[{"lng":[-1.540738,-1.540559],"lat":[53.818669,53.818727]}]],[[{"lng":[-1.539033,-1.539238,-1.539511,-1.539025,-1.538646,-1.538534,-1.538208,-1.538161,-1.537756,-1.537704,-1.537289,-1.536532,-1.535722],"lat":[53.824912,53.825319,53.825922,53.826007,53.826078,53.826096,53.82614,53.826147,53.826208,53.826216,53.826278,53.826392,53.826505]}]],[[{"lng":[-1.535906,-1.535135,-1.534722,-1.534319,-1.53394,-1.533227,-1.532639,-1.532338,-1.531974,-1.531982,-1.531743,-1.531562,-1.531092,-1.531023,-1.530799,-1.530532,-1.53014,-1.529698,-1.529146,-1.528513,-1.527908,-1.527454],"lat":[53.824899,53.824876,53.824802,53.824675,53.824543,53.824537,53.824629,53.824471,53.824505,53.824595,53.824642,53.824798,53.825235,53.825523,53.825775,53.826,53.826117,53.826178,53.82624,53.826449,53.82662,53.826747]}]],[[{"lng":[-1.535397,-1.534878,-1.534453,-1.533934,-1.533407,-1.532425],"lat":[53.826564,53.82664,53.826699,53.826786,53.826863,53.826945]}]],[[{"lng":[-1.533804,-1.533258,-1.533035,-1.532675,-1.532425],"lat":[53.828968,53.828308,53.828038,53.827475,53.826945]}]],[[{"lng":[-1.532425,-1.531948,-1.530997,-1.530097,-1.529736,-1.529172,-1.528627],"lat":[53.826945,53.826939,53.826918,53.826885,53.826881,53.826857,53.826834]}]],[[{"lng":[-1.528627,-1.528609,-1.528824,-1.528664,-1.528568,-1.528587],"lat":[53.826834,53.827332,53.828315,53.828377,53.828532,53.828833]}]],[[{"lng":[-1.528627,-1.527562,-1.527454],"lat":[53.826834,53.826799,53.826747]}]],[[{"lng":[-1.527454,-1.52663,-1.525881,-1.525319,-1.524739,-1.524103,-1.523732,-1.523223,-1.521825,-1.521181,-1.52073,-1.520472,-1.520301,-1.519471,-1.519014,-1.518592,-1.518072,-1.516895,-1.516495,-1.516225,-1.516025,-1.515281,-1.514462,-1.513823],"lat":[53.826747,53.826824,53.826852,53.826803,53.826641,53.82674,53.82649,53.82628,53.82597,53.825757,53.82547,53.825194,53.825012,53.824544,53.824168,53.823688,53.823242,53.822482,53.82214,53.821928,53.821738,53.820695,53.820069,53.819703]}]],[[{"lng":[-1.527454,-1.527317,-1.527049,-1.526896,-1.526735,-1.526278,-1.526051,-1.525963,-1.525923,-1.525894,-1.525814,-1.525591,-1.525921,-1.526059],"lat":[53.826747,53.826968,53.827324,53.827466,53.827584,53.827929,53.828215,53.82845,53.828579,53.828724,53.82878,53.828829,53.829354,53.82957]}]],[[{"lng":[-1.520019,-1.519539],"lat":[53.815431,53.815854]}]],[[{"lng":[-1.518937,-1.51873,-1.518505,-1.518292,-1.518103,-1.517889,-1.517671],"lat":[53.816341,53.816511,53.816698,53.816873,53.81703,53.817206,53.817386]}]],[[{"lng":[-1.517671,-1.51642],"lat":[53.817386,53.81827]}]],[[{"lng":[-1.517671,-1.51843,-1.516792,-1.516751],"lat":[53.817386,53.817765,53.81851,53.818484]}]],[[{"lng":[-1.51642,-1.516233,-1.517327,-1.51686],"lat":[53.81827,53.818068,53.817215,53.816981]}]],[[{"lng":[-1.516751,-1.516437,-1.515874,-1.515257,-1.515579],"lat":[53.818484,53.818662,53.818978,53.819398,53.819564]}]],[[{"lng":[-1.516751,-1.51642],"lat":[53.818484,53.81827]}]],[[{"lng":[-1.51598,-1.5159,-1.515835,-1.515754],"lat":[53.817787,53.81771,53.81763,53.817543]}]],[[{"lng":[-1.515754,-1.515733,-1.515682,-1.515613,-1.515409,-1.515169,-1.515082,-1.515029,-1.515009,-1.515012,-1.515003,-1.515018],"lat":[53.817543,53.817695,53.81783,53.817856,53.817932,53.81798,53.81804,53.818103,53.818205,53.818269,53.818487,53.81857]}]],[[{"lng":[-1.515754,-1.515372,-1.51489,-1.514641,-1.514505,-1.513983,-1.513979,-1.513983,-1.513964,-1.513974],"lat":[53.817543,53.817242,53.81673,53.816443,53.816311,53.815718,53.815638,53.815362,53.815113,53.814834]}]],[[{"lng":[-1.550139,-1.550474,-1.55092,-1.549585,-1.548604,-1.548247,-1.547715,-1.547266,-1.54725,-1.547147,-1.547052,-1.547058,-1.547015,-1.546966,-1.546876,-1.546825,-1.546785,-1.546768,-1.546142,-1.544849,-1.544104,-1.543672,-1.543385,-1.543174,-1.542997,-1.542788,-1.542101,-1.541594,-1.541011,-1.540677,-1.540104,-1.539518,-1.539373,-1.538934,-1.538741,-1.537919,-1.536719,-1.536539,-1.536026,-1.535849],"lat":[53.824952,53.82556,53.82621,53.826772,53.827182,53.8273,53.827412,53.827464,53.827236,53.827281,53.827286,53.827547,53.827778,53.828066,53.828422,53.828445,53.828477,53.828516,53.828457,53.828445,53.828431,53.828431,53.828438,53.82845,53.828465,53.828486,53.82857,53.828625,53.828694,53.828733,53.828798,53.828858,53.828875,53.828925,53.828946,53.828871,53.828877,53.828769,53.828405,53.828316]}]],[[{"lng":[-1.546613,-1.546591,-1.546549,-1.546533,-1.546504,-1.546475,-1.546441,-1.546394,-1.54636,-1.546249,-1.546141,-1.546031,-1.545874,-1.545635,-1.545487,-1.545066,-1.543749,-1.543412,-1.543137,-1.542953,-1.54292,-1.542875,-1.542502,-1.540862,-1.540738,-1.539768,-1.539713,-1.539544,-1.539414,-1.539318,-1.53915,-1.538984,-1.538856,-1.538808,-1.538741,-1.538717,-1.53872,-1.538739,-1.53876,-1.538779,-1.538796,-1.538797,-1.538789,-1.538776,-1.538721,-1.538652,-1.538562,-1.538452,-1.538314,-1.538248,-1.537906,-1.5377,-1.53784,-1.537821,-1.537802,-1.537658,-1.537366,-1.536707,-1.5366,-1.535753,-1.535726,-1.535717,-1.53568,-1.535616,-1.535666,-1.535864,-1.535978,-1.536197,-1.536246,-1.536166,-1.536107,-1.536066,-1.536007,-1.535892,-1.535867,-1.535803,-1.535871,-1.5359,-1.5359,-1.535814,-1.53575,-1.53563,-1.535551,-1.535619,-1.53569,-1.535732,-1.535782,-1.535892,-1.535869,-1.535821,-1.535777,-1.535732,-1.535604,-1.535124,-1.53391,-1.533775,-1.532765,-1.532596,-1.532013,-1.531413,-1.530989,-1.530086,-1.529926,-1.529524,-1.529449,-1.528802,-1.528376,-1.528027,-1.527164,-1.526339,-1.526025,-1.525838,-1.525749,-1.525706,-1.52567,-1.525614,-1.525506,-1.525103,-1.524792,-1.524432,-1.524029],"lat":[53.824929,53.824884,53.824843,53.824833,53.824816,53.824803,53.824789,53.824778,53.824776,53.824636,53.824363,53.824091,53.823807,53.823471,53.823295,53.822886,53.821858,53.821579,53.821304,53.821129,53.82109,53.821037,53.820608,53.818805,53.818669,53.817616,53.817547,53.817336,53.817143,53.817017,53.816732,53.816377,53.815991,53.815767,53.815493,53.815274,53.815202,53.814809,53.814622,53.814422,53.814244,53.814097,53.813984,53.813831,53.813544,53.813303,53.81302,53.812739,53.812428,53.812332,53.81186,53.811617,53.811578,53.811549,53.811486,53.811361,53.811027,53.810224,53.810059,53.809041,53.809019,53.809,53.80893,53.808868,53.80869,53.808181,53.807984,53.807635,53.807548,53.807307,53.807101,53.806993,53.806816,53.806604,53.806534,53.80635,53.806313,53.806291,53.806258,53.806168,53.806076,53.806036,53.805713,53.805095,53.804702,53.804539,53.804425,53.80423,53.804153,53.804096,53.804075,53.804054,53.804027,53.803975,53.803837,53.803819,53.803685,53.803659,53.803605,53.803581,53.803525,53.803377,53.803341,53.803241,53.803221,53.803073,53.802991,53.802912,53.802726,53.802546,53.802478,53.802767,53.802904,53.80296,53.802997,53.803054,53.803141,53.803389,53.803557,53.803766,53.803986]}]],[[{"lng":[-1.534408,-1.534321,-1.534227,-1.534193,-1.534106,-1.534019,-1.533804,-1.533959,-1.533471,-1.532304,-1.530974,-1.529992,-1.529218,-1.528587,-1.528289,-1.527957,-1.527627,-1.527264,-1.526957,-1.526059,-1.525633,-1.525431,-1.525322,-1.525218,-1.52516,-1.525135,-1.525151,-1.525086,-1.524979,-1.524818,-1.523958,-1.52353,-1.523319,-1.522921,-1.522046,-1.521478,-1.521119,-1.520964,-1.520607,-1.520062,-1.519929,-1.51956,-1.519367,-1.518995,-1.518565,-1.517513,-1.516748],"lat":[53.8282,53.828272,53.828382,53.828542,53.828692,53.828847,53.828968,53.829154,53.8292,53.829231,53.829242,53.829048,53.828858,53.828833,53.828841,53.82885,53.828889,53.828974,53.829098,53.82957,53.829657,53.829729,53.829768,53.829804,53.829901,53.83008,53.830255,53.830331,53.830398,53.830414,53.829923,53.829649,53.829495,53.82943,53.829425,53.829061,53.829115,53.828963,53.828864,53.828721,53.828723,53.82873,53.828746,53.828759,53.828755,53.828702,53.828682]}]],[[{"lng":[-1.524595,-1.524322,-1.52435,-1.524495,-1.524579,-1.524617,-1.5246,-1.524289,-1.524009,-1.524906,-1.526208,-1.528466,-1.530034,-1.529935,-1.529923,-1.52981,-1.529745,-1.529718,-1.52967,-1.529641,-1.529572,-1.529557,-1.529476,-1.529398,-1.529318,-1.52924,-1.530663,-1.53065],"lat":[53.81058,53.810765,53.810937,53.81114,53.811116,53.811199,53.81126,53.812412,53.813422,53.813523,53.813645,53.813869,53.814024,53.814409,53.814455,53.814891,53.815142,53.81525,53.815435,53.815547,53.815812,53.815871,53.816184,53.816484,53.816797,53.817095,53.817243,53.81751]}]],[[{"lng":[-1.524508,-1.524228,-1.524238,-1.524231,-1.524133,-1.523932,-1.523596,-1.523877],"lat":[53.808309,53.808525,53.808649,53.808725,53.808875,53.809145,53.809393,53.809483]}]],[[{"lng":[-1.517289,-1.516174,-1.515579,-1.514462,-1.51335,-1.513129,-1.512911,-1.513011,-1.513105,-1.513205,-1.513425,-1.513823,-1.513992,-1.514546,-1.515018,-1.515327,-1.515504,-1.515552,-1.515768,-1.51598,-1.51609,-1.516267,-1.51686,-1.516944,-1.517014,-1.517121,-1.51718,-1.517145,-1.517168,-1.517186,-1.517184,-1.517197,-1.517207,-1.517212,-1.517218,-1.517228,-1.517246,-1.517265,-1.517279,-1.517291,-1.517298,-1.517302,-1.517305,-1.517313,-1.517301,-1.517298,-1.51728,-1.517283,-1.517285,-1.517294,-1.517281,-1.517282,-1.517284,-1.517284,-1.517283,-1.517282,-1.517281,-1.517281,-1.517281,-1.517272,-1.517269,-1.517261,-1.517253,-1.517254,-1.517235,-1.517228,-1.517203,-1.517193,-1.517151,-1.517141,-1.517099,-1.517078,-1.517038,-1.517008,-1.516903,-1.516684,-1.516516,-1.51625,-1.51598,-1.515704,-1.515429,-1.51512,-1.514862,-1.514818,-1.514586,-1.514382,-1.514053,-1.513679,-1.513297,-1.513145,-1.513053,-1.512924,-1.512558,-1.512176,-1.511888,-1.511804,-1.511583,-1.511542,-1.511193,-1.512022],"lat":[53.818808,53.819311,53.819564,53.820069,53.820511,53.820573,53.820599,53.820517,53.820433,53.82035,53.820128,53.819703,53.819537,53.818994,53.81857,53.818288,53.818164,53.818091,53.81796,53.817787,53.817694,53.817475,53.816981,53.816902,53.816832,53.816735,53.816682,53.816428,53.81603,53.815757,53.815706,53.815491,53.815313,53.815232,53.815117,53.814946,53.814744,53.814568,53.814369,53.814169,53.81396,53.81386,53.813692,53.813466,53.813218,53.813178,53.812901,53.812685,53.812496,53.812083,53.811872,53.811704,53.811629,53.811449,53.811403,53.811179,53.811118,53.810916,53.810864,53.810647,53.810624,53.810513,53.810389,53.810359,53.810116,53.810082,53.809861,53.809804,53.809595,53.80952,53.809337,53.809232,53.809087,53.808946,53.808514,53.80858,53.808662,53.808774,53.808885,53.808985,53.8091,53.809217,53.809315,53.80933,53.80942,53.809497,53.809621,53.809752,53.8099,53.809965,53.809999,53.810041,53.810183,53.810329,53.810435,53.810462,53.810555,53.810573,53.810729,53.811554]}]],[[{"lng":[-1.545993,-1.545611,-1.544014,-1.543086,-1.540919,-1.540885,-1.540216,-1.539206,-1.539033,-1.538529,-1.538138,-1.535906],"lat":[53.824936,53.824937,53.824943,53.824938,53.824926,53.824926,53.824923,53.824918,53.824912,53.824911,53.82491,53.824899]}]],[[{"lng":[-1.52191,-1.521769,-1.520918,-1.520733,-1.519729,-1.519314,-1.519147,-1.51852,-1.518209,-1.517766,-1.517494,-1.517196,-1.516903],"lat":[53.804858,53.804992,53.805556,53.805693,53.806451,53.806732,53.806836,53.807249,53.807471,53.807786,53.807979,53.808191,53.808514]}]],[[{"lng":[-1.512911,-1.512655,-1.512341,-1.511774,-1.511185,-1.511143,-1.510987,-1.511708,-1.511785,-1.512133,-1.512596],"lat":[53.820599,53.820773,53.82097,53.821337,53.821716,53.821742,53.821846,53.822572,53.822643,53.822904,53.823206]}]],[[{"lng":[-1.540559,-1.540125,-1.539663,-1.53838,-1.53643,-1.535639,-1.534304,-1.533934,-1.533845,-1.53333,-1.53268,-1.532531,-1.531869,-1.531431],"lat":[53.818727,53.818864,53.819007,53.819145,53.819329,53.819306,53.819133,53.819083,53.819071,53.81901,53.818937,53.818925,53.818859,53.81884]}]],[[{"lng":[-1.517289,-1.517944,-1.517213,-1.515281,-1.514333,-1.514027,-1.514083,-1.5139,-1.512986,-1.512596],"lat":[53.818808,53.819154,53.819577,53.820695,53.821348,53.82154,53.822051,53.822608,53.82303,53.823206]}]],[[{"lng":[-1.540559,-1.539591,-1.539553,-1.539318,-1.53922,-1.539107,-1.538947,-1.53881,-1.538625,-1.538598,-1.538548,-1.53852,-1.538531,-1.538551,-1.538563,-1.538578,-1.538586,-1.538581,-1.538565,-1.538539,-1.53849,-1.538426,-1.538339,-1.538262,-1.5382,-1.538047,-1.537886,-1.53743,-1.537415,-1.537301,-1.537104,-1.53672,-1.536231,-1.536172,-1.535986,-1.535261,-1.535032,-1.534906,-1.534744,-1.534712,-1.534705,-1.534701,-1.534688,-1.534669,-1.53465,-1.534556,-1.534524,-1.53436,-1.534328,-1.534223,-1.534197,-1.534164,-1.534119,-1.533832,-1.53377,-1.533677,-1.533564,-1.532906,-1.532882,-1.532744,-1.532547,-1.532463,-1.532376,-1.532293,-1.532036,-1.531854,-1.531701,-1.531554,-1.530795,-1.530447,-1.529927,-1.529513,-1.529192,-1.528671,-1.528694,-1.527858,-1.527736,-1.526862,-1.525317,-1.525259,-1.524898,-1.52467,-1.524441,-1.523635],"lat":[53.818727,53.817662,53.81762,53.817335,53.817188,53.817021,53.816731,53.81645,53.815925,53.815787,53.81549,53.815171,53.814781,53.814606,53.814402,53.814234,53.814098,53.813915,53.813811,53.813603,53.813334,53.81306,53.812855,53.812716,53.812603,53.812388,53.812178,53.811626,53.811607,53.811461,53.811272,53.810862,53.810387,53.810338,53.810143,53.809514,53.809251,53.809087,53.808863,53.808431,53.808263,53.808149,53.808018,53.80791,53.80773,53.807542,53.807478,53.807168,53.807114,53.806931,53.806886,53.806819,53.806729,53.806285,53.806196,53.806061,53.805903,53.804906,53.80487,53.804702,53.80458,53.804593,53.80459,53.804573,53.804647,53.804741,53.804901,53.804853,53.804608,53.804478,53.804296,53.804129,53.80406,53.804029,53.803977,53.804237,53.804268,53.804411,53.80467,53.804677,53.804727,53.804683,53.804623,53.804321]}]],[[{"lng":[-1.520543,-1.518983,-1.517289],"lat":[53.817972,53.818308,53.818808]}]],[[{"lng":[-1.531248,-1.530693],"lat":[53.817436,53.817505]}]],[[{"lng":[-1.516748,-1.516669,-1.516368,-1.515884,-1.516341,-1.516471,-1.51652,-1.516442,-1.516152,-1.514084,-1.514019,-1.51373,-1.513189,-1.513033,-1.512779,-1.512596],"lat":[53.828682,53.82868,53.828675,53.828313,53.826961,53.826603,53.826422,53.826273,53.826072,53.824497,53.824444,53.824202,53.823643,53.823498,53.823317,53.823206]}]],[[{"lng":[-1.550139,-1.549209,-1.548204,-1.547559,-1.547084,-1.546613],"lat":[53.824952,53.824959,53.824946,53.824932,53.82493,53.824929]}]],[[{"lng":[-1.525439,-1.524222,-1.523751,-1.522303,-1.520543],"lat":[53.817655,53.817673,53.817681,53.817738,53.817972]}]],[[{"lng":[-1.535849,-1.535647,-1.535186,-1.535008,-1.534814,-1.534651,-1.534408],"lat":[53.828316,53.828212,53.828344,53.828388,53.828383,53.828287,53.8282]}]],[[{"lng":[-1.531431,-1.531409,-1.531251,-1.531245,-1.531234,-1.531235,-1.531248],"lat":[53.81884,53.818737,53.818171,53.818034,53.8179,53.817709,53.817436]}]],[[{"lng":[-1.524595,-1.52524,-1.525821,-1.52539,-1.525598,-1.525569,-1.525446,-1.525193,-1.524906,-1.524622,-1.524523,-1.524319,-1.524283,-1.524073],"lat":[53.81058,53.810665,53.810749,53.810879,53.811092,53.811213,53.811653,53.812509,53.813523,53.814343,53.814678,53.815559,53.815674,53.816426]}]],[[{"lng":[-1.524508,-1.52459,-1.524716,-1.524347,-1.52408,-1.523957,-1.523877],"lat":[53.808309,53.808337,53.808376,53.808808,53.809203,53.809377,53.809483]}]],[[{"lng":[-1.523877,-1.523813,-1.523613,-1.523401,-1.524595],"lat":[53.809483,53.809572,53.809858,53.810418,53.81058]}]],[[{"lng":[-1.524508,-1.524188,-1.523886,-1.523606,-1.523436,-1.523322,-1.523085,-1.523291,-1.523674,-1.524277,-1.524526,-1.52456,-1.524553,-1.524507,-1.524431,-1.524051,-1.523655,-1.523543,-1.523387,-1.522755,-1.522168,-1.52191],"lat":[53.808309,53.808182,53.808018,53.807827,53.807704,53.807622,53.80739,53.80724,53.806964,53.806526,53.806348,53.806281,53.806202,53.806133,53.806074,53.805888,53.80568,53.805565,53.805458,53.8052,53.80496,53.804858]}]],[[{"lng":[-1.530693,-1.53065],"lat":[53.817505,53.81751]}]],[[{"lng":[-1.523635,-1.522813,-1.522609,-1.522462,-1.52191],"lat":[53.804321,53.804011,53.804198,53.804333,53.804858]}]]],["X6","X7","X8","X9","X11","X16","X18","X20","X29","X30","X40","X0","X0.1","X0.2","X0.3","X0.4","X0.5","X0.6","X0.7","X0.8","X0.9","X0.10","X0.11","X0.12","X0.13","X0.14","X0.15","X0.16","X0.17","X0.18","X0.19","X0.20","X1","X1.1","X1.2","X1.3","X1.4","X1.5","X2","X2.1","X2.2","X3","X3.1","X4","X4.1","X5","X5.1","X10","X10.1","X21","X21.1","X22","X22.1","X23","X23.1","X25","X25.1"],"rnet",{"interactive":true,"className":"","pane":"tmap401","stroke":true,"color":["#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FFFFBF","#FFFFBF","#FFFFBF","#FFFFBF","#BAE0ED","#BAE0ED","#5C91C2","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#BAE0ED","#BAE0ED","#BAE0ED","#BAE0ED","#BAE0ED","#BAE0ED","#BAE0ED","#BAE0ED"],"weight":[1.35,1.575,1.8,2.025,2.475,3.6,4.05,4.5,6.525,6.75,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.225,0.225,0.225,0.225,0.225,0.225,0.45,0.45,0.45,0.675,0.675,0.9,0.9,1.125,1.125,2.25,2.25,4.725,4.725,4.95,4.95,5.175,5.175,5.625,5.625],"opacity":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"fill":false,"fillColor":["#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FFFFBF","#FFFFBF","#FFFFBF","#FFFFBF","#BAE0ED","#BAE0ED","#5C91C2","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FBA15A","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#FDDB8B","#BAE0ED","#BAE0ED","#BAE0ED","#BAE0ED","#BAE0ED","#BAE0ED","#BAE0ED","#BAE0ED"],"fillOpacity":0.2,"dashArray":"none","smoothFactor":1,"noClip":false},["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>6<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>6<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>7<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>7<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>8<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>8<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>9<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>9<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>11<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>11<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>16<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>16<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>18<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>18<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>20<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>20<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>29<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>29<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>30<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>30<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>40<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>40<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>0<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>0<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>1<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>1<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>1<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>1<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>1<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>1<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>1<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>2<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>3<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>3<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>3<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>3<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>4<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>4<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>4<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>4<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>5<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>5<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>5<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>5<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>10<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>10<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>10<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>10<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>21<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>21<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>21<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>21<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>22<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>22<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>22<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>22<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>23<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>23<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>23<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>23<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>25<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>25<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>25<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>Bicycle<\/nobr><\/td><td align=\"right\"><nobr>25<\/nobr><\/td><\/tr><\/table><\/div>"],null,["6","7","8","9","11","16","18","20","29","30","40","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","1","1","1","1","1","1","2","2","2","3","3","4","4","5","5","10","10","21","21","22","22","23","23","25","25"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FBA15A","#FDDB8B","#FFFFBF","#BAE0ED","#5C91C2"],"labels":["0","1 to 10","11 to 20","21 to 30","31 to 40"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"unknown","title":"Bicycle","extra":null,"layerId":"legend401","className":"info legend rnet","group":"rnet"}]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],"rnet",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[53.802478,53.830414],"lng":[-1.550964,-1.510987]},"fitBounds":[53.802478,-1.550964,53.830414,-1.510987,[]]},"evals":[],"jsHooks":[]}</script>

![](https://user-images.githubusercontent.com/1825120/76854526-26bb5780-6847-11ea-8903-e7466a1aa750.png)
See [here](https://user-images.githubusercontent.com/1825120/76854526-26bb5780-6847-11ea-8903-e7466a1aa750.png) for result
---

## Exercises bonus (optional)

- Using data in the `pct` github package, estimate cycling potential in a city of your choice in the UK, and show the results

- See the [pct_training](https://itsleeds.github.io/pct/articles/pct_training.html) vignette for further information

- Work on your portfolios, adding a new visualisation


---

class: small
# References

Bivand, Roger S., Edzer Pebesma, and Virgilio GÃ³mez-Rubio (2013).
_Applied Spatial Data Analysis with R_. 2nd ed. 2013 edition. New York:
Springer. 405 pp. ISBN: 978-1-4614-7617-7.

Cheng, Joe, Bhaskar Karambelkar, and Yihui Xie (2018). _Leaflet: Create
Interactive Web Maps with the JavaScript 'Leaflet' Library_. R package
version 2.0.0. URL:
[https://CRAN.R-project.org/package=leaflet](https://CRAN.R-project.org/package=leaflet).

Lovelace, Robin, Anna Goodman, Rachel Aldred, et al. (2017). "The
Propensity to Cycle Tool: An Open Source Online System for Sustainable
Transport Planning". In: _Journal of Transport and Land Use_ 10.1.
ISSN: 1938-7849. DOI:
[10.5198/jtlu.2016.862](https://doi.org/10.5198%2Fjtlu.2016.862). URL:
[https://www.jtlu.org/index.php/jtlu/article/view/862](https://www.jtlu.org/index.php/jtlu/article/view/862)
(visited on Jun. 01, 2017).

Lovelace, Robin, Jakub Nowosad, and Jannes Meunchow (2018).
_Geocomputation with R_. CRC Press. URL:
[http://robinlovelace.net/geocompr](http://robinlovelace.net/geocompr)
(visited on Oct. 05, 2017).

Murrell, Paul (2016). _R Graphics, Second Edition_. CRC Press. 536 pp.
ISBN: 978-1-4398-3177-9. Google Books: googlebooks.

Talbert, Richard J. A. (2014). _Ancient Perspectives: Maps and Their
Place in Mesopotamia, Egypt, Greece, and Rome_. University of Chicago
Press. 284 pp. ISBN: 978-0-226-78940-8. Google Books: googlebooks.

Tennekes, Martijn (2018). "Tmap: Thematic Maps in R". In: _Journal of
Statistical Software, Articles_ 84.6, pp. 1-39. ISSN: 1548-7660. DOI:
[10.18637/jss.v084.i06](https://doi.org/10.18637%2Fjss.v084.i06). URL:
[https://www.jstatsoft.org/v084/i06](https://www.jstatsoft.org/v084/i06).
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightLines": true,
"ratio": "4:3",
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
